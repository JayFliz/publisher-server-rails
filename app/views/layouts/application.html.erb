<!DOCTYPE html>
<html dir="ltr"
      lang="en-US"
      prefix="og: http://ogp.me/ns#">

<head>
  <!--
  <%= license %>
  -->

  <meta charset="utf-8">
  <title><%= site_title %></title>

  <!--[if lt IE 9]><script>
  /* @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */
  !function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=t.elements;return"string"==typeof a?a.split(" "):a}function e(a,b){var c=t.elements;"string"!=typeof c&&(c=c.join(" ")),"string"!=typeof a&&(a=a.join(" ")),t.elements=c+" "+a,j(b)}function f(a){var b=s[a[q]];return b||(b={},r++,a[q]=r,s[r]=b),b}function g(a,c,d){if(c||(c=b),l)return c.createElement(a);d||(d=f(c));var e;return e=d.cache[a]?d.cache[a].cloneNode():p.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!e.canHaveChildren||o.test(a)||e.tagUrn?e:d.frag.appendChild(e)}function h(a,c){if(a||(a=b),l)return a.createDocumentFragment();c=c||f(a);for(var e=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)e.createElement(h[g]);return e}function i(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return t.shivMethods?g(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-:]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(t,b.frag)}function j(a){a||(a=b);var d=f(a);return!t.shivCSS||k||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||i(a,d),a}var k,l,m="3.7.3",n=a.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,q="_html5shiv",r=0,s={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",k="hidden"in a,l=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){k=!0,l=!0}}();var t={elements:n.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:m,shivCSS:n.shivCSS!==!1,supportsUnknownElements:l,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:j,createElement:g,createDocumentFragment:h,addElements:e};a.html5=t,j(b),"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:this,document);
  </script><![endif]-->

  <!-- General meta tags -->
  <meta name="application-name"    content="<%= site_title %>" />
  <meta name="generator"           content="homesteading.io" />
  <meta name="description"         content="<%= page_description %>" />
  <meta name="viewport"            content="width=device-width, initial-scale=1.0" />

  <!-- Micropub -->
  <link rel="me"                     href="<%= setting :rel_me %>" />
  <link rel="authorization_endpoint" href="<%= setting :rel_authorization_endpoint %>" />
  <link rel="token_endpoint"         href="<%= setting :rel_token_endpoint %>" />
  <link rel="micropub"               href="<%= setting :micropub_endpoint %>" />

  <!-- Backward compatibility: Facebook (Open Graph) -->
  <meta property="og:type"         content="blog" />
  <meta property="og:url"          content="<%= canonical_url %>" />
  <meta property="og:image"        content="<%= "TODO" %>" />
  <meta property="og:title"        content="<%= site_title %>" />
  <meta property="og:description"  content="<%= page_description %>" />
  <meta property="fb:app_id"       content="<%= "TODO" %>" />

  <!-- Backward compatibility: RSS/Atom -->
  <%= auto_discovery_link_tag(:atom, feed_path, title: setting(:site_title)) %>

  <!-- fav and touch icons -->
  <link rel="shortcut icon" href="/favicon.ico" />
  <%= apple_touch_icon_link_tags %>

  <%= stylesheet_link_tag    "application", media: "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
</head>
<body>

  <nav>
    <div>
      <% if signed_in? %>
        <%= current_user.email %>
        <%= link_to "Profile", profile_path %>
        <%= link_to "Settings", settings_path %>
        <%= link_to "Sign Out", signout_path %>
      <% else %>
        <% if allow_signup? %><%= link_to "Sign Up", signup_path %><% end %>
        <%= link_to "Sign In", signin_path %>
      <% end %>
    </div>

    <div>
      <%= link_to "Home", root_path %>
      <%= link_to "Articles", articles_path %>
      <% if signed_in? %>(<%= link_to "new", new_article_path %>)<% end %>
      <%= link_to "Bookmarks", bookmarks_path %>
      <% if signed_in? %>(<%= link_to "new", new_bookmark_path %>)<% end %>
      <%= link_to "Notes", notes_path %>
      <% if signed_in? %>(<%= link_to "new", new_note_path %>)<% end %>
      <%= link_to "Photos", photos_path %>
      <% if signed_in? %>(<%= link_to "new", new_photo_path %>)<% end %>
      <%= link_to "Sounds", sounds_path %>
      <% if signed_in? %>(<%= link_to "new", new_sound_path %>)<% end %>
      <%= link_to "Videos", videos_path %>
      <% if signed_in? %>(<%= link_to "new", new_video_path %>)<% end %>
    </div>
  </nav>

  <% if flash[:notice] %><div><%= flash[:notice] %></div><% end %>
  <% if flash[:alert]  %><div><%= flash[:alert]  %></div><% end %>

  <main role="main">
    <%= yield %>
  </main>

  <footer role="contentinfo">
    <p><%= license :html %>.</p>
  </footer>

</body>
</html>
