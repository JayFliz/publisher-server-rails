<% if @post.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@post.errors.count, "error") %> prohibited this note from being saved:</h2>

    <ul>
    <% @post.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<div class="form-group">
  <%= f.label :content, "Content", class: "sr-only" %>
  <%= f.text_area :content, class: "form-control", rows: 10, placeholder: "Note content..." %>
</div>

<div class="actions">
  <%= link_to "Cancel", notes_url, class: "cancel" %>
  <%= f.submit "Publish Note", class: "btn btn-success btn-lg" %>
</div>

<fieldset>
  <legend class="h6">Optional Meta</legend>

  <div class="form-group post-privacy">
    <%= f.check_box :private, class: "form-control" %>

    <%= f.label :private do %>
      <span class="btn btn-default private-post">Private Post</span>
      <span class="btn btn-default  public-post">Public Post</span>
    <% end %>

    <p class="help-block">
      <span class="private-post"><b>Private Posts</b> are only visible to you when you&rsquo;re signed in.</span>
      <span class="public-post"><b>Public Posts</b> are visible to anyone at anytime.</span>
    </p>
  </div>

  <div class="form-group">
    <%= f.label :in_reply_to, "In Reply To" %>
    <%= f.text_field :in_reply_to, class: "form-control", placeholder: "http://example.com http://example.net" %>
    <p class="help-block">Space separated URLs</p>
  </div>

  <div class="row">
    <div class="form-group col-sm-6">
      <%= f.label :slug, "URL Slug" %>
      <%= f.text_field :slug, class: "form-control" %>
      <p class="help-block">Auto-generated if left blank</p>
    </div>

    <div class="form-group col-sm-6">
      <%= f.label :tags %>
      <%= text_field_tag :tags, @post.tags.map{|t| t.display(:name)}.join(", "), class: "form-control", placeholder: "cats, dogs, bunny rabbits" %>
      <p class="help-block">Comma separated</p>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :published_at %>
    <%= f.datetime_select :published_at, class: "form-control" %>
  </div>
</fieldset>

<div class="actions">
  <%= link_to "Cancel", notes_url, class: "cancel" %>
  <%= f.submit "Publish Note", class: "btn btn-success btn-lg" %>
</div>
